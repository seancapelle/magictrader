{"version":3,"sources":["../test-src/test-card.js"],"names":[],"mappings":"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","file":"test-card.js","sourcesContent":["/* global describe, it */\nconst chai = require('chai')\nconst chaiAsPromised = require('chai-as-promised')\nchai.should()\nchai.use(chaiAsPromised)\n\nconst { card } = require('../lib/index.js')\nconst { pipe, prop } = require('ramda')\n\ndescribe('card', () => {\n  describe('find', () => {\n    it('returns card', () => {\n      return card.find(88803).then(pipe(prop('card'), card => {\n        card.should.have.property('name', 'Choice of Damnations')\n        card.should.have.property('manaCost', '{5}{B}')\n        card.should.have.property('cmc', 6)\n        card.should.have.property('type', 'Sorcery — Arcane')\n        card.should.have.deep.property('colors[0]', 'Black')\n        card.should.have.deep.property('types[0]', 'Sorcery')\n        card.should.have.deep.property('subtypes[0]', 'Arcane')\n        card.should.have.property('rarity', 'Rare')\n        card.should.have.property('set', 'SOK')\n        card.should.have.property('text', 'Target opponent chooses a number. You may have that player lose that much life. If you don\\'t, that player sacrifices all but that many permanents.')\n        card.should.have.property('flavor', '\"Life is a series of choices between bad and worse.\"\\n—Toshiro Umezawa')\n        card.should.have.property('artist', 'Tim Hildebrandt')\n        card.should.have.property('number', '62')\n        card.should.have.property('multiverseid', 88803)\n        card.should.have.property('imageUrl', 'http://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=88803&type=card')\n        card.should.have.property('originalText', 'Target opponent chooses a number. You may have that player lose that much life. If you don\\'t, that player sacrifices all but that many permanents.')\n        card.should.have.property('originalType', 'Sorcery — Arcane')\n        card.should.have.property('id', '1c4aab072d52d283e902f2302afa255b39e0794b')\n      }))\n    })\n  })\n\n  describe('where', () => {\n    it('should filter', () => {\n      return card.where({ supertypes: 'legendary', subtypes: 'goblin' })\n        .should.eventually.be.an('array')\n        .with.deep.property('[0]')\n          .that.has.property('name', 'Squee, Goblin Nabob')\n    })\n\n    it('should return 1 page of results', () => {\n      return Promise.all([\n        card.where({})\n          .should.eventually.be.an('array')\n          .that.has.length(100),\n        card.where({ page: 1 })\n          .should.eventually.be.an('array')\n          .that.has.length(100)\n      ])\n    })\n\n    it('should be able to control the page size', () => {\n      return card.where({ page: 1, pageSize: 1 })\n        .should.eventually.be.an('array')\n        .that.has.length(1)\n    })\n  })\n\n  describe('all', () => {\n    it('should emit results from multiple pages', (cb) => {\n      const results = []\n      const cardEmitter = card.all({ name: 'Squee', pageSize: 5 })\n      cardEmitter.on('data', card => results.push(card))\n      cardEmitter.on('error', cb)\n      cardEmitter.on('end', () => {\n        results.should.have.length(9)\n        cb()\n      })\n    })\n  })\n})\n"]}